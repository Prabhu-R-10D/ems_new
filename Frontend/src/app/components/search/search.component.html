<app-navbar></app-navbar>

<div class="container mt-3">
  <h2>Employee Search</h2>

  <!-- Search Filters -->
  <div class="mb-3">
    <label for="searchType">Search By:</label>
    <select id="searchType" class="form-control" [(ngModel)]="searchType">
      <option value="ID">ID</option>
      <option value="Name">Name</option>
      <option value="Department">Department</option>
    </select>
  </div>

  <div class="mb-3">
    <label for="searchTerm">Enter {{searchType}} :</label>
    <input type="text" id="searchTerm" class="form-control" [(ngModel)]="searchTerm"/>
  </div>

  <!-- Buttons for Search and Clear -->
  <div class="d-flex justify-content-between">
    <button class="btn btn-primary" (click)="search()">Search</button>
    <button class="btn btn-danger" (click)="clearSearch()">Clear</button>
  </div>

  <!-- Error Message -->
  <div *ngIf="errorMessage" class="alert alert-danger mt-3">
    {{ errorMessage }}
  </div>

  <!-- Search Results -->
  <div *ngIf="searchResults.length > 0" class="mt-3">
    <h3>Search Results:</h3>
    
    <div class="row">
      <div class="col-md-4" *ngFor="let employee of searchResults">
        <div class="card user-details-card mb-4">
          <div class="card-body d-flex align-items-center">
            <!-- User Image -->
            <div class="user-image">
              <img src="image.jpeg" class="img-fluid rounded-circle" alt="User Image"/>
            </div>
      
            <!-- User Info -->
            <div class="user-info">
              <p><strong>Name:</strong>{{ employee.name }}</p>
              <p><strong>ID:</strong> {{ employee.id }}</p>
              <p><strong>Email:</strong> {{ employee.email }}</p>
              <p><strong>Department:</strong> {{ employee.dept }}</p>
              <p><strong>Date of Birth:</strong> {{ employee.dob | date }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
